from collections import defaultdict
from math import factorial

def numPairsDivisibleBy60(time):
    mod = [0] * 60
    resMod = [0] * 60
    res = 0
    for t in time: 
        curRes = mod[(60 - t)% 60]
        res += curRes
        resMod[t % 60] += curRes
        mod[t % 60] += 1
    return res

def nChooseK(n, k):
    return int(factorial(n)/(factorial(k) * factorial(n - k)))



# why is this wrong? 
def numPairsDivisibleBy60_nowRight(time):
    mod = [0] * 60
    for t in time: 
        mod[t % 60] += 1
    res = 0
    for i in range(0, 31):
        curRes = 0 
        if i in [0, 30]:
            if mod[i] > 1: 
                curRes = nChooseK(mod[i], 2)
        else: 
            curRes = mod[i] * mod[60 - i]
        res += curRes
    return res


# time = [60, 60, 60, 60, 60]
# time = [30, 30, 30, 30, 30]

# time = [439,407,197,191,291,486,30,307,11]
time = [41,343,391,197,270,168,420,52,168,101,17,73,396,353,13,127,239,97,327,205,62,393,227,183,428,376,330,73,23,411,426,292,466,246,40,379,285,173,68,220,139,213,209,165,24,133,186,191,485,294,174,202,474,467,201,86,331,185,401,356,350,4,286,167,427,92,413,232,229,389,405,114,379,343,389,94,224,467,132,305,270,432,234,377,198,223,476,208,115,220,423,217,231,27,73,276,21,335,371,134,193,490,262,243,223,407,498,386,232,411,18,21,212,69,450,487,471,442,295,260,75,233,194,76,299,252,405,240,11,333,121,443,394,434,359,222,351,218,123,33,292,105,120,396,90,68,114,322,323,115,298,390,83,317,306,121,164,459,462,110,233,85,44,226,343,392,432,495,3,54,29,17,393,22,206,405,480,113,338,132,432,26,57,498,419,483,481,409,428,285,166,17,212,92,362,263,391,192,118,399,439,173,174,140,350,112,165,24,499,409,475,345,129,59,133,13,316,35,477,3,302,389,187,124,390,212,57,486,241,282,416,397,180,115,124,1,27,165,44,113,94,199,176,391,146,423,117,138,488,365,273,315,227,499,404,488,5,291,300,408,6,179,390,429,209,314,478,460,197,401,11,305,425,495,133,176,304,120,125,17,33,490,429,265,413,235,73,51,360,325,267,184,424,450,412,35,306,128,193,202,46,438,426,394,116,217,146,495,70,216,266,90,215,97,461,450,414,426,227,128,164,396,455,54,450,195,119,47,380,376,363,29,336,366,118,246,383,38,188,205,488,151,306,110,228,338,406,173,85,167,365,271,455,34,455,99,168,107,181,262,197,202,134,51,479,76,450,393,235,4,206,316,134,279,3,296,290,13,351,498,367,498,255,100,375,254,11,453,218,497,404,471,339,459,77,472,45,264,46,381,259,477,484,250,57,238,161,156,280,355,404,261,74,383,161,472,51,332,323,122,405,181,12,102,393,226,377,310,112,479,242,284,52,101,359,74,79,7,486,382,47,371,170,479,168,375,219,438,104,272,463,29,388,87,491,464,148,495,476,227,175,360,147,461,272,250,401,408,334,103,268,475,265,61,456,131,76,137,42,366,196,303,452,79,139,431,415,404,47,362,392,202,70,371,4,340,113,398,476,113,450,168,118,234,364,413,210,321,87,21,165,416,317,324,9,467,71,38,335,154,10,471,204,211,470,160,373,466,338,296,103,52,473,68,432,351,299,300,52,337,15,291,280,169,338,195,463,289,386,75,456,294,269,119,13,455,1,256,391,94,139,481,419,425,357,14,82,74,483,381,398,136,138,320,320,124,236,417,84,309,86,370,300,284,424,297,41,209,109,165,120,480,269,123,338,360,237,455,105,404,330,40,249,221,298,463,460,133,158,480,418,195,158,336,369,257,120,73,278,457,430,441,470,340,134,64,242,234,265,109,368,168,22,337,500,176,463,36,272,441,43,258,188,164,367,343,354,312,364,36,215,215,2,312,268,107,208,151,70,282,458,422,95,14,2,177,43,157,3,480,28,210,54,66,158,339,167,233,175,297,264,369,404,323,311,412,443,119,315,88,311,192,115,365,195,54,10,219,79,485,300,45,228,390,160,261,189,180,152,466,153,173,169,68,334,490,220,39,45,131,33,392,404,348,336,318,206,101,227,111,18,383,21,205,465,344,219,457,392,472,234,56,127,382,69,93,292,483,461,360,16,452,144,478,164,379,193,410,114,86,20,365,426,311,367,35,2,265,70,304,83,273,347,77,417,282,498,496,286,178,439,207,411,195,23,330,394,463,371,396,434,21,257,478,239,281,472,20,255,203,309,318,282,29,113,464,179,305,163,2,132,108,268,29,103,393,306,392,407,207,177,16,51,470,162,297,11,398,298,74,61,176,32,17,65,103,147,81,462,81,201,474,287,376,26,461,314,69,306,433,289,316,271,114,396,374,476,406,328,481,228,415,491,40,116,91,389,364,137,44,393,208,83,280,450,74,417,287,270,344,214,279,419,307,25,55,321,52,318,29,157,398,375,210,253,29,368,359,189,275,419,190,424,365,301,253,165,182,191,275,410,488,66,440,429,41,299,22,98,400,16,343,94,165,129,12,187,413,36,477,57,12,278,194,67,464,295,268,124,384,198,325,219,63,22,288,95,405,362,347,255,302,482,447,220,35,124,120,493,431,272,21,86,327,265,176,86,142,337,325,456,333,297,6,67,140,74,493,470,360,341,266,169,147,101,345,465,147,127,29,196,271,241,148,499,496,480,317,438,181,216,344,188,464,144,253,272,347,63,181,193,80,109,104,7,126,151,425,271,245,475,322,15,197,222,457,364,252,311,91,86,43,299,161,12,442,164,306,261,237,20,471,444,55,240,276,69,323,355,452,309,382,74,416,462,362,55,108,137,242,351,12,455,288,222,41,88,237,463,22,299,445,466,4,187,196,412,166,195,466,470,417,224,24,322,145,90,381,500,238,39,58,67,76,463,54,126,103,449,195,411,140,400,247,499,138,119,459,460,178,458,444,221,132,255,257,178,500,222,214,230,357,284,445,483,381,296,147,309,407,350,451,124,80,338,19,453,295,455,433,344,265,117,259,225,349,466,372,147,377,238,365,336,455,75,317,108,349,445,458,417,442,255,201,412,46,116,33,283,238,71,77,169,198,240,354,221,333,405,10,71,16,406,231,94,407,149,480,332,243,430,123,166,247,100,38,205,295,47,482,13,179,276,367,74,385,352,402,30,391,268,473,500,414,362,123,404,134,87,397,133,263,4,162,302,426,318,64,230,161,193,249,96,247,76,447,11,494,175,9,490,407,60,183,325,434,7,213,271,259,478,417,434,253,306,320,431,167,124,465,327,358,280,387,262,381,49,6,304,362,19,473,151,29,428,375,163,280,260,170,250,33,65,219,48,178,144,420,324,370,34,405,332,206,199,238,57,321,162,171,62,63,400,305,216,262,148,442,272,376,70,432,281,19,304,486,246,117,198,170,77,120,84,54,142,155,347,484,37,295,212,326,491,268,272,398,218,173,81,94,398,203,147,13,28,194,408,105,123,294,77,159,170,212,247,122,436,163,198,376,240,64,85,203,450,114,177,301,247,458,249,401,388,480,221,44,192,276,388,293,182,398,280,162,8,490,173,80,370,169,2,470,40,210,363,403,100,454,430,191,393,213,378,338,347,167,483,154,16,436,32,216,204,392,171,435,182,271,365,428,385,133,282,483,488,248,397,337,350,89,455,23,395,167,204,362,493,452,473,369,36,22,500,413,459,456,230,258,464,70,64,255,336,420,195,458,212,355,404,333,149,490,492,174,17,67,193,355,216,128,200,131,229,226,281,232,118,462,142,111,307,487,475,208,239,341,383,359,277,180,455,95,436,450,74,78,116,301,347,79,387,234,190,288,93,321,385,493,245,298,473,483,477,350,119,319,262,380,184,286,342,92,145,268,320,195,484,293,19,61,397,485,167,78,105,82,226,394,491,217,404,13,321,457,492,147,475,52,221,433,113,452,299,310,221,62,91,363,210,166,274,316,215,282,250,492,477,63,487,337,260,27,340,58,126,89,368,483,212,283,25,445,139,499,276,195,212,363,311,41,141,278,437,217,54,416,18,493,12,394,89,335,365,187,160,65,106,348,439,385,80,33,5,486,48,225,109,349,304,339,7,30,151,299,281,48,180,433,186,16,84,411,110,90,331,486,112,407,63,421,71,89,261,153,137,206,198,50,171,446,404,348,107,124,66,179,253,441,295,100,223,485,476,2,280,284,329,30,221,390,392,435,363,52,158,311,386,89,292,136,337,45,280,272,160,325,285,197,117,413,286,194,115,145,192,404,46,224,243,181,465,208,366,305,475,129,256,304,11,41,463,401,172,162,176,258,57,256,25,14,417,379,18,225,16,442,393,120,401,51,430,367,318,205,263,288,487,240,365,195,248,24,181,144,198,66,117,431,278,157,241,168,178,491,342,139,449,414,449,286,419,292,365,294,171,175,5,290,108,233,51,488,141,93,28,241,373,52,214,377,251,221,73,213,35,309,2,64,123,160,234,214,218,66,280,404,81,372,227,370,433,180,229,219,322,408,203,237,460,36,79,402,193,227,105,488,48,130,138,122,456,125,84,333,45,180,131,240,174,395,217,388,410,482,20,144,272,214,195,439,219,446,484,465,182,79,309,382,33,141,126,407,174,131,373,194,337,323,251,350,352,92,68,405,20,414,106,232,202,462,115,391,195,287,482,114,148,245,430,361,487,326,11,209,104,44,443,105,160,197,178,294,347,11,75,27,305,208,41,78,48,316,410,261,318,477,216,386,423,62,47,39,452,337,320,11,59,235,101,23,92,341,422,13,441,305,390,140,231,317,476,319,455,284,479,378,250,315,154,288,149,309,292,335,62,151,33,374,297,393,83,362,421,147,419,62,388,57,249,188,270,464,368,153,130,18,283,192,327,466,1,224,388,378,177,58,97,187,455,60,108,233,330,304,309,403,95,273,211,275,349,85,200,61,91,170,453,207,372,457,371,207,451,82,419,421,475,186,375,41,129,356,383,370,332,148,418,278,32,7,258,468,1,249,379,92,307,321,228,370,96,489,344,39,406,467,430,295,465,109,2,25,178,398,347,191,359,91,282,95,285,342,13,294,453,315,346,77,175,394,3,240,114,298,89,85,377,278,314,239,403,214,85,252,133,498,270,333,351,431,276,6,230,212,369,171,237,167,445,225,147,366,279,227,47,106,390,150,13,47,398,53,178,230,229,169,239,85,486,134,458,374,245,180,8,69,41,479,294,106,312,55,364,307,131,293,97,248,84,96,80,434,358,373,368,243,116,424,158,10,358,385,58,16,243,91,294,415,173,324,166,362,424,467,17,259,171,105,122,388,494,285,32,348,374,144,327,235,36,497,401,17,79,494,294,79,17,377,448,216,173,88,3,405,340,38,314,430,72,367,277,127,272,392,444,43,227]

# time = [309,148,402,199,180,170,293,72,165,318,178,444,105,265,311,223,242,11,341,232,37,90,214,73,15,431,82,323,291,296,234,32,21,156,235,379,275,273,69,91,275,93,281,212,478,365,126,457,268,85,217,144,325,376,357,457,129,189,140,384,21,342,416,34,252,216,311,228,380,149,123,276,458,225,271,489,125,377,440,459,428,52,372,337,55,1,183,214,42,174,193,196,230,144,213,292,34,8,61,432,23,24,128,416,136,196,290,406,103,394,408,97,222,418,122,94,171,214,418,458,141,356,212,217,428,183,488,471,29,441,190,133,152,448,390,40,180,28,156,43,299,251,250,48,423,437,417,303,81,284,448,459,30,273,141,111,61,366,157,434,155,114,208,423,56,8,95,461,351,448,244,244,121,112,374,267,26,176,203,24,142,98,372,208,438,335,432,456,161,157,353,161,235,395,389,208]
print("correct: ", numPairsDivisibleBy60(time))
print("wrong: ", numPairsDivisibleBy60_nowRight(time))
# 37, 23